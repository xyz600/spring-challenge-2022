# spring-challenge-2022

## ルール（日本語訳）

### 目的

モンスターの攻撃から自分の基地を守り、相手より長生きしよう。

### ルール

両プレイヤーは3体のヒーローからなるチームを操作します。
両チームはマップの反対側の隅にある拠点付近からスタートします。
ゲーム中、マップの端には定期的にモンスターが出現します。
モンスターが自分の拠点に到達すると、ダメージを受けます。
自分の拠点がダメージを受けすぎると負けとなります。

ありがたいことに、ヒーローはモンスターを退治することができます。

### マップ

ゲームは、座標X=0, Y=0を左上のピクセル、X=17630, Y=9000を右下のピクセルとする長方形のマップ上で行われます。
各拠点は破壊される前に最大3ポイントのダメージを受けることができます。

### ヒーロー

毎ターン、あなたは各ヒーローにコマンドを与えなければなりません。以下のコマンドのいずれかを実行することができます。

* WAIT（待機）：ヒーローはその場にとどまります。
* MOVE（移動）：移動の後にマップの座標を入力すると、ヒーローはその地点に向かって最大800ユニット前進します。

ヒーローの移動フェイズ後、800ユニット以内にいるモンスターは2ポイントのダメージを受けます。

### モンスター

すべてのモンスターは、一定の体力を持って登場します。ターン終了時に、モンスターの体力が0以下になった場合、そのモンスターはゲームから除外されます。
モンスターはランダムに出現し、移動方向もランダムです。
モンスターは常に1ターンに400ユニットの速度で一直線に進みます。
ターン終了時に拠点から5000ユニット以内にモンスターがいた場合、その拠点をターゲットにします。
拠点を狙った場合、モンスターはその拠点に向かって直進し、マップから離れることができなくなります。
ターン終了時に拠点から300ユニット以内にモンスターがいた場合、そのターンに殺されていない限り、そのモンスターは消滅し、拠点に1ポイントのダメージを与える。

### 勝敗

* 勝利条件
  * 相手の基礎体力が0になった。
  * 220ターン経過した時点で、あなたの基礎体力が相手より多いこと。
* 敗北条件
  * あなたのベースの体力が0になった。
  * あなたのプログラムが有効なコマンドを時間内に提供しなかった。

### 🐞デバッグのヒント

* エンティティにカーソルを合わせると、そのエンティティに関する詳細な情報が表示されます。
* コマンドの後にテキストを追加すると、そのテキストがヒーローの上に表示されます。
* ビューアの歯車のアイコンを押すと、追加の表示オプションにアクセスできます。
* キーボードでアクションを操作する：スペースで再生/一時停止、矢印で1フレームずつ進む

## 参加記

### wood2 league

* 脅威になる敵のうち、一番近くにいるキャラを殴り続ける
* 一度ターゲットにしたキャラは、消えるまで覚え続ける

### 覚えておくべきこと

* 一見直線状に来てないように見える monster も threat 判定喰らうことがある
  * ルールでいうところの「ターン終了時に拠点から5000ユニット以内にモンスターがいた場合、その拠点をターゲットにします」が働いているせいだとわかった
  * 割と threat_state が便利だとわかりつつある
* 何か時間経過と共に敵の体力が増加し続けているように見える
  * 一人で殴り続けても無理があるから、複数人で協調して殴らないといけないように見える？
* 敵キャラクターが何ターンで自軍につくかは正確に計算したいところ
  * 明らかに間に合わないなら、技を使うなり応援を頼むなりできそう
